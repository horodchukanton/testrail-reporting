plugins {
  id 'java'
  id 'groovy'
  id 'checkstyle'
}

group 'com.jamf'
version '0.0.1-SNAPSHOT'

sourceCompatibility = JavaVersion.VERSION_11

checkstyle {
  toolVersion '8.11'
  maxWarnings 0
  maxErrors 0
}

repositories {
  mavenCentral()
}

dependencies {
  compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'
  compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.+'
  compile group: 'com.codepine.api', name: 'testrail-api-java-client', version: '2.0.1'
  compile group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.2.0'
  compile group: 'org.junit.jupiter', name: 'junit-jupiter-params', version: '5.2.0'
  compile group: 'org.testng', name: 'testng', version: '6.11'
  compile group: 'org.spockframework', name: 'spock-core', version: '1.2-groovy-2.4'
}

task sourceJar(type: Jar) {
  archiveClassifier.set('sources')
  from sourceSets.main.allJava
}

task javadocJar(type: Jar, dependsOn: javadoc) {
  archiveClassifier.set('javadoc')
  from javadoc.destinationDir
}

artifacts {
  archives jar
  archives sourceJar
  archives javadocJar
}